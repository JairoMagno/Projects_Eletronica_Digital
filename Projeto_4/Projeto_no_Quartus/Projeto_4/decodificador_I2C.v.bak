module SEG_D_verilog (
	input clk,
	input [15:0] data, //2bytes
	
	//registradores que vão p logica ja em codigo ascii lcd - criar um 2º always lá p escrever a segunda linha
	//output reg [7:0] centena_out,		//0 -> 000, 1 -> 100
	//output reg [7:0] dezena_out,
	//output reg [7:0] unidade_out,
	//output reg [7:0] decimo_out
	
	output reg centena,		//0 -> 000, 1 -> 100
	output reg [3:0] dezena,
	output reg [3:0] unidade,
	output reg [3:0] decimo
);
	//reg centena,		//0 -> 000, 1 -> 100
	//reg [3:0] dezena,
	//reg [3:0] unidade,
	//reg [3:0] decimo
	
	//INSTACIAR UM DIVISOR DE CLOCK DE OVERFLOW = 5_000_000 => 10Hz
	//10Hz será a taxa de atualização dos registradores (0,1s)
	reg clk_10hz; //saida do divisor de clock
/*
	always @ (clk)	begin 

		case(centena)
			4'd0 		: dezena_out[7:0] = 8'b0011_0000; //0  
			4'd1 		: dezena_out[7:0] = 8'b; //1  
			default  : dezena_out[7:0] = 8'b0011_0000;//0  
	
		case(dezena) 			
			4'd0 		: dezena_out[7:0] = 8'b; //0  
			4'd1 		: dezena_out[7:0] = 8'b; //1  
			4'd2 		: dezena_out[7:0] = 8'b; //2  
			4'd3 		: dezena_out[7:0] = 8'b; //3  
			4'd4 		: dezena_out[7:0] = 8'b; //4  
			4'd5 		: dezena_out[7:0] = 8'b; //5  
			4'd6 		: dezena_out[7:0] = 8'b; //6  
			4'd7 		: dezena_out[7:0] = 8'b; //7  
			4'd8 		: dezena_out[7:0] = 8'b; //8  
			4'd9 		: dezena_out[7:0] = 8'b; //9   
			default  : dezena_out[7:0] = 8'b0000_0000;//0   

		case(unidade) 			
			4'd0 		: unidade_out[7:0] = 8'b; //0  
			4'd1 		: unidade_out[7:0] = 8'b; //1  
			4'd2 		: unidade_out[7:0] = 8'b; //2  
			4'd3 		: unidade_out[7:0] = 8'b; //3  
			4'd4 		: unidade_out[7:0] = 8'b; //4  
			4'd5 		: unidade_out[7:0] = 8'b; //5  
			4'd6 		: unidade_out[7:0] = 8'b; //6  
			4'd7 		: unidade_out[7:0] = 8'b; //7  
			4'd8 		: unidade_out[7:0] = 8'b; //8  
			4'd9 		: unidade_out[7:0] = 8'b; //9   
			default  : unidade_out[7:0] = 8'b0000_0000;//0 
			
		case(decimo) 			
			4'd0 		: decimo_out[7:0] = 8'b; //0  
			4'd5 		: decimo_out[7:0] = 8'b; //5  
			default  : decimo_out[7:0] = 8'b0000_0000;//0  
	end
*/
	
	/* INICIO: MSB+LSB 9bits para 4BCD  */	
	always@(data, clk_10hz) begin //clk_10hz é a taxa a qual as informações são atualizadas
	
			//data[7] decimal da temperatura (0 ->.0º, 1->.5º)
			//data[15:8] MSB+LSB da temperatura, data[15] sinal (0 -> +, 1-> -) 
			decimo  = data[7] ? 4'h5 : 4'h0;	
			centena = data[14:8] >= 100 ? 1'd1 : 1'd0;	
			
			//dado (unidade e dezena da temperatura)	
			//data[15:8] MSB+LSB da temperatura, data[15] sinal (0 -> +, 1-> -)
			if (data[15]) begin
				unidade = 4'd0; //caso temp negativa valor exibido 0
				dezena  = 4'd0;
				centena = 1'd0;
			end
			else
				if (data[14:8] >= 10 && data[14:8] < 20) 			 begin	    
					unidade = data[14:8] - 7'd10;
					dezena  = 4'h1;
				end
				else if	(data[14:8] >= 20 && data[14:8] < 30)   begin
					unidade = data[14:8] - 7'd20;
					dezena  = 4'h2;
				end
				else if	(data[14:8] >= 30 && data[15:8] < 40)   begin
					unidade = data[14:8] - 7'd30;
					dezena  = 4'h3;
				end
				else if	(data[14:8] >= 40 && data[15:8] < 50)	 begin
					unidade = data[14:8] - 7'd40;
					dezena  = 4'h4;
				end
				else if	(data[14:8] >= 50 && data[15:8] < 60)	 begin
					unidade = data[14:8] - 7'd50;
					dezena  = 4'h5;
				end
				else if	(data[14:8] >= 60 && data[15:8] < 70) 	 begin
					unidade = data[14:8] - 7'd60;
					dezena  = 4'h6;
				end
				else if	(data[14:8] >= 70 && data[15:8] < 80) 	 begin
					unidade = data[14:8] - 7'd70;
					dezena  = 4'h7;
				end
				else if	(data[14:8] >= 80 && data[15:8] < 90) 	 begin
					unidade = data[14:8] - 7'd80;
					dezena  = 4'h8;
				end
				else if	(data[14:8] >= 90 && data[15:8] < 100)  begin
					unidade = data[14:8] - 7'd90;
					dezena  = 4'h9;
				end
				else if	(data[14:8] >= 100 && data[15:8] < 110) begin
					unidade = data[14:8] - 7'd100;
					dezena  = 4'h0;
				end
				else if	(data[14:8] >= 110 && data[15:8] < 120) begin
					unidade = data[14:8] - 7'd110;
					dezena  = 4'h1;
				end
				else if	(data[14:8] >= 120) 							 begin
					unidade = data[14:8] - 7'd120;
					dezena  = 4'h2;
				end
				else 		begin
					unidade = data[11:8];	//apenas unidade
					dezena  = 4'h0;
				end	
			end
endmodule